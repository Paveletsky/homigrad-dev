A_AM.ActMod.LuaSha = true
local Ta = {"amod_mixamo_walk_", "amod_mixamo_run_"}
A_AM.ActMod.AnimNStp = {Ta[2] .. "1_forward", Ta[2] .. "2_forward", Ta[2] .. "3_forward", Ta[2] .. "4_forward", Ta[1] .. "0_forward", Ta[1] .. "1_forward", Ta[1] .. "2_forward", Ta[1] .. "3_forward", Ta[1] .. "4_forward", Ta[1] .. "5_forward", Ta[1] .. "6_forward", Ta[1] .. "7_forward", Ta[1] .. "8_forward", Ta[1] .. "9_forward", Ta[1] .. "10_forward", Ta[1] .. "11_forward", Ta[1] .. "12_forward", Ta[1] .. "13_forward", Ta[1] .. "14_back", Ta[1] .. "15_forward", Ta[1] .. "16_forward", Ta[1] .. "17_forward", Ta[1] .. "18_forward", Ta[1] .. "19_forward", Ta[1] .. "20_forward", Ta[1] .. "21_forward", "zombie_run", "zombie_walk_01", "amod_mmd_helltaker", "amod_mmd_phao2phuthon_p1"}
Ta = nil
A_AM.ActMod.ActoldV__v9_1 = {"amod_mmd_dance_specialist", "amod_mmd_theatrical_airline_mik", "amod_mmd_theatrical_airline_luk", "amod_mmd_theatrical_airline_rin", "f_acrobatic_superhero", "f_armup", "f_cool_robot", "f_cowboydance", "f_funk_time", "f_head_bounce", "f_idontknow", "f_jazz_dance", "f_kitty_cat", "f_mind_blown", "f_octopus", "f_octopus", "f_running", "f_shaolin", "f_sprinkler", "f_thequicksweeper", "f_wave_dance"}
A_AM.ActMod.ActoldV__v9_2 = {"amod_mmd_dance_caramelldansen", "amod_mmd_dance_daisukeevolution", "amod_mmd_whistle", "amod_fortnite_autumntea", "amod_fortnite_eerie", "amod_fortnite_eerie_walk", "amod_fortnite_nevergonna", "amod_fortnite_twistdaytona", "amod_fortnite_twisteternity_ayo", "amod_fortnite_twisteternity_teo", "f_doublesnap", "f_electroshuffle2", "f_floppy_dance", "f_indiadance", "f_kpop_dance03", "f_swim_dance"}
A_AM.ActMod.ActoldV__v9_3 = {"amod_mmd_king_kanaria", "amod_mmd_badbadwater", "amod_dance_california_girls", "amod_mixamo_dead_1", "amod_mixamo_dead_2", "amod_mixamo_dead_3", "amod_mixamo_dead_4", "amod_mixamo_entry", "amod_mixamo_gesture_1", "amod_mixamo_gesture_2", "amod_mixamo_gesture_3", "amod_mixamo_gesture_4", "amod_mixamo_gesture_5", "amod_mixamo_gesture_6", "amod_mixamo_gesture_7", "amod_mixamo_gesture_8", "amod_mixamo_gesture_9", "amod_mixamo_gesture_10", "amod_mixamo_gesture_11", "amod_mixamo_gesture_12", "amod_mixamo_gesture_13", "amod_mixamo_gesture_14", "amod_mixamo_gesture_15", "amod_mixamo_idle_1", "amod_mixamo_idle_2", "amod_mixamo_idle_3", "amod_mixamo_idle_4", "amod_mixamo_idle_5", "amod_mixamo_idle_6", "amod_mixamo_idle_with_something", "amod_mixamo_jump", "amod_mixamo_kick_1", "amod_mixamo_kick_2", "amod_mixamo_kick_3", "amod_mixamo_kick_4", "amod_mixamo_kick_5", "amod_mixamo_run_1_forward", "amod_mixamo_run_2_forward", "amod_mixamo_run_3_forward", "amod_mixamo_sit", "amod_mixamo_sit_typing", "amod_mixamo_sit_writing", "amod_mixamo_taunt_1", "amod_mixamo_taunt_2", "amod_mixamo_taunt_3", "amod_mixamo_taunt_4", "amod_mixamo_taunt_5", "amod_mixamo_taunt_6", "amod_mixamo_taunt_7", "amod_mixamo_taunt_8", "amod_mixamo_taunt_9", "amod_mixamo_taunt_10", "amod_mixamo_taunt_11", "amod_mixamo_taunt_12", "amod_mixamo_on_knees", "amod_mixamo_walk_0_forward", "amod_mixamo_walk_1_forward", "amod_mixamo_walk_2_forward", "amod_mixamo_walk_3_forward", "amod_mixamo_warming_up", "f_dreamfeet", "f_gabby_hiphop", "f_sneaky"}
local TFm = {"wos_tf2_", "_taunt_conga", "_taunt_mannrobics_straight", "_taunt_russian"}
A_AM.ActMod.ActoldV__v9_4 = {"f_guitar_walk", "f_take_the_w", TFm[1] .. "demo" .. TFm[2], TFm[1] .. "engi" .. TFm[2], TFm[1] .. "heavy" .. TFm[2], TFm[1] .. "medic" .. TFm[2], TFm[1] .. "pyro" .. TFm[2], TFm[1] .. "scout" .. TFm[2], TFm[1] .. "sniper" .. TFm[2], TFm[1] .. "soldier" .. TFm[2], TFm[1] .. "spy" .. TFm[2], TFm[1] .. "demo" .. TFm[3], TFm[1] .. "engi" .. TFm[3], TFm[1] .. "heavy" .. TFm[3], TFm[1] .. "medic" .. TFm[3], TFm[1] .. "pyro" .. TFm[3], TFm[1] .. "scout" .. TFm[3], TFm[1] .. "sniper" .. TFm[3], TFm[1] .. "soldier" .. TFm[3], TFm[1] .. "spy" .. TFm[3], TFm[1] .. "demo" .. TFm[4], TFm[1] .. "engi" .. TFm[4], TFm[1] .. "heavy" .. TFm[4], TFm[1] .. "medic" .. TFm[4], TFm[1] .. "pyro" .. TFm[4], TFm[1] .. "scout" .. TFm[4], TFm[1] .. "sniper" .. TFm[4], TFm[1] .. "soldier" .. TFm[4], TFm[1] .. "spy" .. TFm[4], "amod_mmd_sadcatdance", "amod_mmd_dance_tuni-kun", "amod_mmd_fiery_sarilang", "amod_mmd_followtheleader", "amod_mmd_getdown", "amod_mmd_goodbyedeclaration", "amod_mmd_ponponpon", "amod_mmd_s007", "amod_mmd_s017", "amod_mmd_phao2phuthon_p1", "amod_fortnite_aloha", "amod_fortnite_behere", "amod_fortnite_bythefire_follower", "amod_fortnite_bythefire_leader", "amod_fortnite_dance_distraction", "amod_fortnite_jumpingjoy_walk", "amod_fortnite_jumpingjoy_static", "amod_fortnite_littleegg", "amod_fortnite_lyrical", "amod_fortnite_ohana", "amod_fortnite_realm", "amod_fortnite_jiggle", "amod_fortnite_prance", "amod_fortnite_rememberme", "amod_fortnite_sleek", "amod_fortnite_tally", "amod_fortnite_tonal", "amod_fortnite_zest", "amod_fortnite_spectacleweb"}
TFm = nil
local TFm = "amod_mixamo_walk_"
A_AM.ActMod.ActoldV__v9_5 = {"zombie_idle_01", "zombie_run", "zombie_walk_01", "amod_mixamo_catwalk_walk", "amod_mixamo_hip_hop_dancing", "amod_mixamo_hip_hop_dancing2", "amod_mixamo_talking_on_a_cell_phone", "amod_mixamo_talking_on_phone", TFm .. "4_forward", TFm .. "5_forward", TFm .. "6_forward", TFm .. "7_forward", TFm .. "8_forward", TFm .. "9_forward", TFm .. "10_forward", TFm .. "11_forward", TFm .. "12_forward", TFm .. "13_forward", TFm .. "14_back", TFm .. "15_forward", TFm .. "16_forward", TFm .. "17_forward", TFm .. "18_forward", TFm .. "19_forward", TFm .. "20_forward", TFm .. "21_forward", "amod_mixamo_run_4_forward", "amod_fortnite_cerealbox", "amod_fortnite_griddle", "amod_fortnite_griddle_walk", "amod_fortnite_hotpink", "amod_fortnite_sunburstdance", "amod_fortnite_cyclone_headbang", "amod_fortnite_cyclone", "amod_fortnite_walkywalk", "amod_fortnite_walkywalk_walk", "amod_fortnite_julybooks", "amod_mmd_aoagoodluck", "amod_mmd_blablabla", "amod_mmd_chikichiki", "amod_mmd_ghostdance", "amod_mmd_girls", "amod_mmd_hiasobi", "amod_mmd_hiproll", "amod_mmd_mrsaxobeat", "amod_mmd_caixukun", "amod_mmd_calisthenics", "amod_mmd_nyaarigato", "amod_mmd_pv120_shi_p1", "amod_mmd_pv120_shi_p2", "amod_mmd_pv120_shi_p3", "amod_mmd_s001", "amod_mmd_s002", "amod_mmd_s003", "amod_mmd_s004", "amod_mmd_s005", "amod_mmd_s006", "amod_mmd_s008", "amod_mmd_s009", "amod_mmd_s010"}
TFm = nil
A_AM.ActMod.ActNewV = {"idle_all_02", "idle_all_angry", "idle_all_cower", "idle_all_scared", "idle_suitcase", "menu_combine", "menu_gman", "menu_zombie_01", "amod_am4_levepalestina", "amod_drip_01", "amod_am4_drliveseywalk_1", "amod_am4_drliveseywalk_2", "amod_am4_drliveseywalk_3", "amod_mmd_bad_apple_l", "amod_mmd_bad_apple_r", "amod_mmd_gfriendrough", "amod_mmd_massdestruction", "amod_mmd_mememe", "amod_mmd_senbonzakura", "amod_mmd_supermjopping", "amod_mmd_roki_p1", "amod_mmd_roki_p2", "amod_mmd_nahoha", "amod_mmd_lmfao", "amod_mmd_kwlink", "amod_mmd_conqueror", "amod_mmd_ch4nge", "amod_mmd_yoidore", "amod_mmd_dokuhebi", "amod_mmd_darling", "amod_mmd_dancin", "amod_mmd_adeepmentality", "amod_mmd_s011", "amod_mmd_s012", "amod_mmd_s013", "amod_mmd_s014", "amod_mmd_s015", "amod_mmd_gimmexgimme", "amod_mmd_yaosobi-idol", "amod_mmd_adj_1", "amod_mmd_kemuthree", "amod_fortnite_twistwasp", "amod_fortnite_stringdance", "amod_fortnite_gasstation", "amod_fortnite_grooving", "amod_fortnite_devotion", "amod_fortnite_chew", "amod_fortnite_comrade", "amod_fortnite_indigoapple", "amod_fortnite_heavyroardance", "amod_fortnite_zebrascramble", "amod_pubg_seetinh", "amod_pubg_2phuthon", "amod_pubg_bboombboom", "amod_pubg_victorydance60", "amod_pubg_victorydance99", "amod_pubg_victorydance102", "amod_pubg_samsara", "amod_pubg_tocatoca"}
A_AM.ActMod.AGetDitN = {
    [1] = "f_dancemoves._so_..png",
    [2] = "f_epic_sax_guy._c1_.._so_.._ef_.._mo_..png",
    [3] = "amod_mmd_dance_gokurakujodo._so_..png",
    [4] = "f_bendi._so_..png",
    [5] = "taunt_dance.png",
    [6] = "f_statuepose.png",
    [7] = "original_dance1._so_..png",
    [8] = "amod_dance_gangnamstyle._so_..png",
    [9] = "f_dancemoves._c1_.._so_..png",
    [10] = "amod_dance_gangnamstyle._so_..png",
    [11] = "amod_mmd_dance_specialist._so_..png",
    [12] = "f_bbd._so_..png",
    [13] = "taunt_dance.png",
    [14] = "f_epic_sax_guy._so_.._ef_.._mo_..png",
    [15] = "original_dance12._so_..png",
    [16] = "f_conga._so_..png",
    [17] = "amod_angry_01.png",
    [18] = "taunt_laugh.png",
    [19] = "amod_mmd_whistle._so_..png",
    [20] = "f_kpop_03._so_..png",
    [21] = "original_dance12._so_..png"
}

A_AM.ActMod.ActGmod = {"idle_all_02", "idle_all_angry", "idle_all_cower", "idle_all_scared", "idle_suitcase", "menu_combine", "menu_gman", "menu_zombie_01", "taunt_cheer", "taunt_dance", "taunt_laugh", "taunt_muscle", "taunt_persistence", "taunt_robot", "zombie_idle_01", "zombie_run", "zombie_walk_01", "ragdoll"}
if CLIENT then
    local function AaMaStart(aa, typ, ax, ay, zx, zy, ag, txt, taa)
        local awaa = vgui.Create(typ, aa)
        awaa:SetSize(zx, zy)
        awaa:SetPos(ax - awaa:GetWide() / 2, ay - awaa:GetTall() / 2)
        awaa:SetText("")
        awaa.waa = false
        awaa.BOn = true
        awaa.taaA = ""
        if taa then
            if taa == "ic_yo" then
                if A_AM.ActMod.autDon_URL_Y then
                    awaa.taaA = A_AM.ActMod.autDon_URL_Y
                else
                    awaa.taaA = "https://youtu.be/huTGPGgVz4M"
                end
            end

            if taa == "ic_bi" then
                if A_AM.ActMod.autDon_URL_B then
                    awaa.taaA = A_AM.ActMod.autDon_URL_B
                else
                    awaa.taaA = "https://www.bilibili.com/video/BV1YX4y1R7fb"
                end
            end

            if taa == "ic_pye" then awaa.taaA = "http://paypal.me/400283" end
            if taa == "ic_cfi" then awaa.taaA = "https://www.buymeacoffee.com/ahmed400407" end
            if awaa.taaA == "" and taa ~= "ext" then
                awaa.BOn = false
                awaa.txtLock = aR:T("AHlp_Txt3")
            end
        end

        awaa:SetAlpha(0)
        awaa:AlphaTo(255, 0.4)
        timer.Simple(0.4, function() if IsValid(awaa) then awaa.waa = true end end)
        awaa.Paint = function(ss, w, h)
            if taa and taa == "ext" then
                if aa.loaa == false then
                    draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(100, 50, 20, 255))
                else
                    if ss:IsHovered() then
                        draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(100, 150, 150, 255))
                    else
                        draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(100, 100, 100, 255))
                    end
                end
            elseif taa and ss.taaA == "" then
                draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(50, 50, 20, 255))
            elseif ss:IsHovered() then
                draw.RoundedBox(10, 0, 0, w, h, Color(150, 200, 170, 255))
            else
                draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(150, 140, 150, 255))
            end

            if taa then
                if string.find(string.sub(taa, 1, -3), "ic_") then
                    surface.SetDrawColor(color_white)
                    surface.SetMaterial(Material("actmod/imenu/" .. taa .. ".png", "noclamp smooth"))
                    surface.DrawTexturedRect(15, 7.5, 45, 45)
                    draw.SimpleTextOutlined(txt, "ActMod_a6", w / 2 + 15, h / 2, Color(80, 255, 255, 255), 1, 1, 2, Color(50, 110, 255, 255))
                    if taa and ss.taaA == "" then
                        if ss:IsHovered() then
                            draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(50, 50, 20, 255))
                            draw.SimpleTextOutlined(ss.txtLock, "ActMod_a6", w / 2, h / 2, Color(200, 200, 200, 255), 1, 1, 2, Color(120, 110, 50, 255))
                        else
                            draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(50, 50, 20, 150))
                        end
                    end
                else
                    draw.SimpleTextOutlined(txt, "ActMod_a6", w / 2, h / 2, Color(80, 255, 255, 255), 1, 1, 2, Color(50, 110, 255, 255))
                end
            else
                draw.SimpleTextOutlined(txt, "ActMod_a6", w / 2, h / 2, Color(80, 255, 255, 255), 1, 1, 2, Color(50, 110, 255, 255))
            end
        end

        if typ == "DButton" then
            awaa.DoClick = function(s)
                if awaa.BOn == false then return end
                if taa then
                    if taa == "ext" and IsValid(aa) then
                        if aa.loaa == false then return end
                        RunConsoleCommand("actmod_cl_showbhelp", "0")
                        aa:Remove()
                    else
                        SetClipboardText(awaa.taaA)
                        surface.PlaySound("actmod/s/copy1.wav")
                        if IsValid(awaa.txh) then awaa.txh:Remove() end
                        awaa.txh = vgui.Create("DLabel", awaa)
                        awaa.txh:SetSize(awaa:GetWide(), awaa:GetTall())
                        awaa.txh:SetPos(0, 0)
                        awaa.txh:SetText("")
                        awaa.txh:SetAlpha(255)
                        awaa.txh:AlphaTo(0, 0.5, 0.5, function(s) if IsValid(awaa.txh) then awaa.txh:Remove() end end)
                        awaa.txh.Paint = function(s, w, h)
                            draw.RoundedBox(50, 0, 0, w, h, Color(20, 90, 200, 255))
                            draw.SimpleText(aR:T("LReplace_txt_CopyLink"), "ActMod_a2", w / 2, h / 2 - 14, color_white, 1, 1)
                            draw.SimpleText(awaa.taaA, "ActMod_a4", w / 2, h / 2 + 6, color_white, 1, 1)
                        end

                        aa.loaa = true
                    end
                else
                    if awaa.waa == false then return end
                    if IsValid(awaa) then awaa:Remove() end
                    if txt ~= "START" then aa.Ydon = txt end
                    aa.Entra(ag)
                end
            end

            awaa.DoRightClick = function(s)
                if awaa.BOn == false then return end
                if taa then
                    if taa == "ic_yo" or taa == "ic_bi" or taa == "ic_pye" or taa == "ic_cfi" then gui.OpenURL(awaa.taaA) end
                    aa.loaa = true
                end
            end
        end
        return awaa
    end

    function A_AM.ActMod:MListHlp(trA)
        local ply, trr = LocalPlayer(), false
        local OAasa = vgui.Create("DFrame")
        timer.Simple(0.5, function() if IsValid(OAasa) and trr == false then OAasa:Remove() end end)
        OAasa:SetTitle("")
        OAasa:SetSize(350, 250)
        OAasa:SetCursor("arrow")
        OAasa:MakePopup()
        OAasa:Center()
        OAasa.loaa = false
        OAasa.txt1 = aR:T("AHlp_Txt1")
        OAasa.txt2 = aR:T("AHlp_Txt2")
        input.SetCursorPos(OAasa:GetX() + OAasa:GetWide() / 2 + 130, OAasa:GetY() + OAasa:GetTall() / 2 - 10)
        OAasa.Paint = function(ss, w, h)
            draw.RoundedBox(10, 0, 0, w, h, Color(100, 100, 80, 255))
            draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(50, 80, 120, 225))
            draw.SimpleText(ss.txt1, "ActMod_a6", w / 2, h / 2 - 90, Color(215, 225, 255, 255), 1, 1)
            draw.SimpleText(ss.txt2, "ActMod_a4", w / 2, h / 2 - 70, Color(215, 225, 255, 255), 1, 1)
        end

        AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 - 15, 230, 65, 0, "YouTube", "ic_yo")
        AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 45, 230, 60, 0, "bilibili", "ic_bi")
        if not trA then AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 100, 190, 40, 0, aR:T("AHlp_HMenu"), "ext") end
        trr = true
    end

    function A_AM.ActMod:MSupMe()
        local ply, trr = LocalPlayer(), false
        local OAasa = vgui.Create("DFrame")
        timer.Simple(0.5, function() if IsValid(OAasa) and trr == false then OAasa:Remove() end end)
        OAasa:SetTitle("")
        OAasa:SetSize(350, 250)
        OAasa:SetCursor("arrow")
        OAasa:MakePopup()
        OAasa:Center()
        OAasa.loaa = false
        OAasa.txt1 = aR:T("AHlp_Txt11")
        OAasa.txt2 = aR:T("AHlp_Txt2")
        input.SetCursorPos(OAasa:GetX() + OAasa:GetWide() / 2 + 130, OAasa:GetY() + OAasa:GetTall() / 2 - 10)
        OAasa.Paint = function(ss, w, h)
            draw.RoundedBox(10, 0, 0, w, h, Color(100, 100, 80, 255))
            draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(50, 80, 120, 225))
            draw.SimpleText(ss.txt1, "ActMod_a6", w / 2, h / 2 - 90, Color(215, 225, 255, 255), 1, 1)
            draw.SimpleText(ss.txt2, "ActMod_a4", w / 2, h / 2 - 70, Color(215, 225, 255, 255), 1, 1)
        end

        AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 - 15, 230, 65, 0, "PayPal", "ic_pye")
        AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 45, 230, 60, 0, "Me a Coffee", "ic_cfi")
        trr = true
    end

    local function AaMuhIBox(saa)
        local DBu1 = vgui.Create("DButton", saa)
        DBu1:SetSize(30, 30)
        DBu1:SetPos(EmeA.aFrame:GetWide() - DBu1:GetWide() - 10, 10)
        DBu1:SetText("X")
        DBu1:SetAlpha(0)
        DBu1:AlphaTo(255, 0.2)
        DBu1.Paint = function(s, w, h) draw.RoundedBox(15, 0, 0, w, h, Color(150, 80, 50, 255)) end
        DBu1.DoClick = function(s) if IsValid(EmeA) then EmeA:Remove() end end
        return DBu1
    end

    function A_AM.ActMod:MunGam1Box()
        local ply, trr = LocalPlayer(), false
        local OAasa = vgui.Create("DFrame")
        timer.Simple(0.5, function() if IsValid(OAasa) and trr == false then OAasa:Remove() end end)
        OAasa:SetTitle("")
        OAasa:SetSize(350, 230)
        OAasa:SetCursor("arrow")
        OAasa:MakePopup()
        OAasa:Center()
        OAasa.fid = 0
        OAasa.waa = false
        OAasa.strt = 0
        OAasa.rond = 0
        OAasa.ronx = 10
        OAasa.s1 = 0
        OAasa.s2 = 0
        OAasa.s3 = 0
        OAasa.Gdon = 0
        OAasa.Ydon = "?"
        OAasa.GTi = CurTime()
        OAasa.STi = false
        OAasa.RTi = 0
        timer.Simple(0.2, function() if IsValid(OAasa) then OAasa.waa = true end end)
        input.SetCursorPos(OAasa:GetX() + OAasa:GetWide() / 2, OAasa:GetY() + OAasa:GetTall() / 2 + 40)
        OAasa.Paint = function(ss, w, h)
            draw.RoundedBox(10, 0, 0, w, h, Color(40, 50, 80, 255))
            draw.RoundedBox(5, 5, 5, w - 10, h - 10, Color(100, 100, 130, 255))
            draw.SimpleText(OAasa.rond .. " / " .. OAasa.ronx, "ActMod_a6", w / 2, h / 2 - 80, Color(255, 255, 100, 255), 1, 1)
            if ss.rond < 6 then
                draw.SimpleText(OAasa.s1 .. " + " .. OAasa.s2 .. " = " .. OAasa.Ydon, "ActMod_a6", w / 2, h / 2 - 50, OAasa.fid == 2 and Color(150, 255, 255, 180) or OAasa.fid == 1 and Color(255, 170, 100, 255) or Color(255, 255, 255, 255), 1, 1)
            else
                draw.SimpleText(OAasa.s1 .. " + " .. OAasa.s2 .. " + " .. OAasa.s3 .. " = " .. OAasa.Ydon, "ActMod_a6", w / 2, h / 2 - 50, OAasa.fid == 2 and Color(150, 255, 255, 180) or OAasa.fid == 1 and Color(255, 170, 100, 255) or Color(255, 255, 255, 255), 1, 1)
            end

            if OAasa.fid == 1 then draw.SimpleTextOutlined("(" .. OAasa.Gdon .. ")", "GModToolName", w / 2, h / 2 + 60, Color(100, 120, 80, 255), 1, 1, 1, Color(255, 255, 50, 255)) end
            if OAasa.RTi > 0 then
                if (ss.GTi or 0) < CurTime() and OAasa.STi == true then
                    ss.GTi = CurTime() + 1
                    ss.RTi = ss.RTi - 1
                    if OAasa.RTi <= 0 then
                        OAasa.STi = false
                        ss.Fntra()
                    end
                end

                draw.SimpleText(" _ " .. ss.RTi - 1 .. " _ ", "ActMod_a6", w / 2, h / 2, OAasa.RTi < 4 and Color(255, math.max(200 + (255 * math.sin(CurTime() * 15)), 0), math.max(100 + (255 * math.sin(CurTime() * 15)), 0), 255) or OAasa.RTi < 7 and Color(255, 200, 100, 255) or Color(255, 235, 200, 255), 1, 1)
            end
        end

        OAasa.Fntra = function()
            if IsValid(OAasa.B1) then OAasa.B1:Remove() end
            if IsValid(OAasa.B2) then OAasa.B2:Remove() end
            if IsValid(OAasa.B3) then OAasa.B3:Remove() end
            surface.PlaySound("actmod/s/button19.wav")
            OAasa.fid = 1
            OAasa.STi = false
            OAasa.Ydon = OAasa.Gdon
            timer.Simple(1.5, function()
                if IsValid(OAasa) then
                    OAasa.fid = 0
                    OAasa.waa = false
                    OAasa.strt = 0
                    OAasa.rond = 0
                    OAasa.ronx = 10
                    OAasa.s1 = 0
                    OAasa.s2 = 0
                    OAasa.s3 = 0
                    OAasa.Gdon = 0
                    OAasa.Ydon = "?"
                    OAasa.GTi = CurTime()
                    OAasa.STi = false
                    OAasa.RTi = 0
                    AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 40, 100, 50, 0, "START")
                end
            end)
        end

        OAasa.Cntra = function()
            local function ANo_Avs_ok(ply, txt)
                if txt then return not ply.GetTable_Avs or (ply.GetTable_Avs and ply.GetTable_Avs["Avs_" .. txt]["ok"] == "no") end
                return false
            end

            if ANo_Avs_ok(ply, "a1_3") == true then
                if A_AM.ActMod:AG_DatA(7, "Avs_a1_3") >= 3 then
                    if A_AM.ActMod:AG_DatA(7, "Avs_a1_3") >= 3 then
                        A_AM.ActMod:AG_DatA(1, A_AM.ActMod:A_BED(2, "QXZzX2ExXzM="), "yes")
                        A_AM.ActMod:AShowB(ply, "Avs_a1_3", aR:T("LAchievements_a1_m3"))
                    else
                        A_AM.ActMod:AShowB(ply, "Avs_a1_3", "  " .. A_AM.ActMod:AG_DatA(7, "Avs_a1_3") .. " / 3  ", 2)
                    end
                else
                    A_AM.ActMod:AG_DatA(1, A_AM.ActMod:A_BED(2, "QXZzX2ExXzM="), nil, A_AM.ActMod:AG_DatA(7, "Avs_a1_3") + 1)
                end
            end

            if IsValid(OAasa.B1) then OAasa.B1:Remove() end
            if IsValid(OAasa.B2) then OAasa.B2:Remove() end
            if IsValid(OAasa.B3) then OAasa.B3:Remove() end
            surface.PlaySound("actmod/s/s2.wav")
            timer.Simple(3.5, function()
                if IsValid(OAasa) then
                    OAasa.fid = 0
                    OAasa.waa = false
                    OAasa.strt = 0
                    OAasa.rond = 0
                    OAasa.ronx = 15
                    OAasa.s1 = 0
                    OAasa.s2 = 0
                    OAasa.s3 = 0
                    OAasa.Gdon = 0
                    OAasa.Ydon = "?"
                    OAasa.GTi = CurTime()
                    OAasa.STi = false
                    OAasa.RTi = 0
                    AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 40, 100, 50, 0, "START")
                end
            end)
        end

        OAasa.Entra = function(aa)
            timer.Simple(1, function()
                if IsValid(OAasa) then
                    if IsValid(OAasa.B1) then OAasa.B1:Remove() end
                    if IsValid(OAasa.B2) then OAasa.B2:Remove() end
                    if IsValid(OAasa.B3) then OAasa.B3:Remove() end
                    OAasa.fid = 0
                end
            end)

            OAasa.STi = false
            if aa == 0 then
                surface.PlaySound("actmod/s/button9.wav")
            else
                OAasa.fid = 2
                if OAasa.Gdon == OAasa.Ydon then
                    surface.PlaySound("actmod/s/button15.wav")
                    OAasa.rond = OAasa.rond + 1
                    if OAasa.rond == OAasa.ronx then
                        OAasa.Cntra()
                        return
                    end
                else
                    surface.PlaySound("actmod/s/button19.wav")
                    OAasa.Fntra()
                    return
                end
            end

            if OAasa.rond < 6 then
                timer.Simple(1.5, function()
                    if IsValid(OAasa) then
                        OAasa.Ydon = "?"
                        local Ttmdon = {}
                        local RwdTtn = 1
                        OAasa.RTi = 9 - OAasa.rond / 2
                        OAasa.strt = OAasa.strt + 1
                        OAasa.s1 = math.Round(math.random(1, OAasa.strt * 4))
                        OAasa.s2 = math.Round(math.random(OAasa.strt * 4, 1))
                        OAasa.Gdon = OAasa.s1 + OAasa.s2
                        table.insert(Ttmdon, OAasa.Gdon * 2)
                        table.insert(Ttmdon, OAasa.Gdon)
                        table.insert(Ttmdon, OAasa.Gdon - 3)
                        RwdTtn = math.Round(math.random(1, 3))
                        timer.Simple(0.5, function()
                            if IsValid(OAasa) then
                                OAasa.B1 = AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2 - 100, OAasa:GetTall() / 2 + 60, 60, 40, 1, Ttmdon[RwdTtn])
                                table.remove(Ttmdon, RwdTtn)
                                RwdTtn = math.Round(math.random(1, 2))
                                timer.Simple(0.3, function()
                                    if IsValid(OAasa) then
                                        OAasa.B2 = AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 60, 60, 40, 2, Ttmdon[RwdTtn])
                                        table.remove(Ttmdon, RwdTtn)
                                        timer.Simple(0.2, function()
                                            if IsValid(OAasa) then
                                                OAasa.B3 = AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2 + 100, OAasa:GetTall() / 2 + 60, 60, 40, 3, Ttmdon[1])
                                                timer.Simple(0.5, function()
                                                    if IsValid(OAasa) then
                                                        OAasa.RTi = math.Round(9 - OAasa.rond / 2)
                                                        OAasa.STi = true
                                                    end
                                                end)
                                            end
                                        end)
                                    end
                                end)
                            end
                        end)
                    end
                end)
            else
                timer.Simple(1.5, function()
                    if IsValid(OAasa) then
                        OAasa.Ydon = "?"
                        local Ttmdon = {}
                        local RwdTtn = 1
                        OAasa.RTi = 20 - OAasa.rond
                        OAasa.strt = OAasa.strt + 1
                        OAasa.s1 = math.Round(math.random(1, OAasa.strt * 4))
                        OAasa.s2 = math.Round(math.random(OAasa.strt * 4, 1))
                        OAasa.s3 = math.Round(math.random(OAasa.strt, 1))
                        OAasa.Gdon = OAasa.s1 + OAasa.s2 + OAasa.s3
                        table.insert(Ttmdon, OAasa.Gdon * 2)
                        table.insert(Ttmdon, OAasa.Gdon)
                        table.insert(Ttmdon, OAasa.Gdon - 3)
                        RwdTtn = math.Round(math.random(1, 3))
                        timer.Simple(0.5, function()
                            if IsValid(OAasa) then
                                OAasa.B1 = AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2 - 100, OAasa:GetTall() / 2 + 60, 60, 40, 1, Ttmdon[RwdTtn])
                                table.remove(Ttmdon, RwdTtn)
                                RwdTtn = math.Round(math.random(1, 2))
                                timer.Simple(0.3, function()
                                    if IsValid(OAasa) then
                                        OAasa.B2 = AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 60, 60, 40, 2, Ttmdon[RwdTtn])
                                        table.remove(Ttmdon, RwdTtn)
                                        timer.Simple(0.2, function()
                                            if IsValid(OAasa) then
                                                OAasa.B3 = AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2 + 100, OAasa:GetTall() / 2 + 60, 60, 40, 3, Ttmdon[1])
                                                timer.Simple(0.5, function()
                                                    if IsValid(OAasa) then
                                                        OAasa.RTi = math.Round(20 - OAasa.rond)
                                                        OAasa.STi = true
                                                    end
                                                end)
                                            end
                                        end)
                                    end
                                end)
                            end
                        end)
                    end
                end)
            end
        end

        timer.Simple(0.5, function() if IsValid(OAasa) then AaMaStart(OAasa, "DButton", OAasa:GetWide() / 2, OAasa:GetTall() / 2 + 40, 100, 50, 0, "START") end end)
        trr = true
    end

    function A_AM.ActMod:MunChIBox()
        local ply, trr = LocalPlayer(), false
        local EmeA = vgui.Create("DButton")
        timer.Simple(0.5, function() if IsValid(EmeA) and trr == false then EmeA:Remove() end end)
        EmeA:SetSize(ScrW(), ScrH())
        EmeA:SetAlpha(0)
        EmeA:SetText("")
        EmeA:SetCursor("arrow")
        EmeA:MakePopup()
        EmeA:Center()
        EmeA.waa = false
        timer.Simple(0.2, function() if IsValid(EmeA) then EmeA.waa = true end end)
        input.SetCursorPos(EmeA:GetX() + EmeA:GetWide() / 2, EmeA:GetY() + EmeA:GetTall() / 2 + 67.5)
        EmeA.DoClick = function(s) if IsValid(EmeA) then EmeA:Remove() end end
        EmeA.Paint = function(ss, w, h) end
        local selff = A_AM.ActMod.Actoji
        local aGFileIc = A_AM.ActMod.Settings["IconsActs"]
        local icn = selff.table[math.Round(math.Rand(1, 21))]
        local zX, zY, zA, zI = 240, 240, 65, 10
        local GMat = "actmod/sm_hover.png"
        if file.Exists("materials/actmod/sm_hover2.png", "GAME") then GMat = "actmod/sm_hover2.png" end
        EmeA.aFrame = vgui.Create("DPanel", EmeA)
        EmeA.aFrame:SetSize(400, 400)
        EmeA.aFrame.OnRemove = function(pan) if IsValid(EmeA) then EmeA:Remove() end end
        EmeA.aFrame.tas = true
        EmeA.aFrame:SetText("")
        EmeA.aFrame:MakePopup()
        EmeA.aFrame:Center()
        EmeA.aFrame:SetAlpha(0)
        EmeA.aFrame:AlphaTo(255, 0.2)
        EmeA.aFrame.Paint = function(s, w, h)
            if EmeA.aFrame.tas == false then
                draw.RoundedBox(20, 0, 0, w, h, Color(60, 60, 50, 255))
                draw.RoundedBox(25, 15, 15, w - 30, h - 30, Color(80, 100, 200, 255))
            end

            if (s.t or 0) < CurTime() then
                s.t = CurTime() + 2
                icn = selff.table[math.Round(math.Rand(1, 21))]
            end

            if EmeA.aFrame.tas == true then
                surface.SetDrawColor(Color(60, 200, 200, math.max(0, math.min(100, 50 + (100 * math.sin(CurTime() * 4))))))
                surface.DrawOutlinedRect(w / 2 - zX / 2 - zI / 2 - 5, h / 2 - zY / 2 - zI / 2 - 5 - zA, zX + zI + 10, zY + zI + 10, 5)
            else
                draw.RoundedBox(5, w / 2 - zX / 2 - zI / 2, h / 2 - zY / 2 - zI / 2 - zA, zX + zI, zY + zI, Color(60, 60, 50, 255))
            end

            surface.SetDrawColor(color_white)
            if GetConVarNumber("actmod_cl_stibox") > 1 then
                surface.SetMaterial(Material("materials/actmod/sm_hover" .. tostring(GetConVarNumber("actmod_cl_stibox")) .. ".png", "noclamp smooth"))
            else
                surface.SetMaterial(Material("materials/actmod/sm_hover.png", "noclamp smooth"))
            end

            surface.DrawTexturedRect(w / 2 - zX / 2 + zI / 2, h / 2 - zY / 2 + zI / 2 - zA, zX - zI, zY - zI)
            surface.SetMaterial(Material(aGFileIc .. "/" .. icn, "noclamp smooth"))
            surface.DrawTexturedRect(w / 2 - zX / 2, h / 2 - zY / 2 - zA, zX, zY)
        end

        local Scroll = vgui.Create("DScrollPanel", EmeA.aFrame)
        Scroll:SetSize(310, 100)
        Scroll:SetPos(EmeA.aFrame:GetWide() / 2 - Scroll:GetWide() / 2, EmeA.aFrame:GetTall() / 2 - Scroll:GetTall() / 2 + 140)
        local List = vgui.Create("DIconLayout", Scroll)
        List:Dock(FILL)
        List:SetSpaceY(5)
        List:SetSpaceX(5)
        List.Paint = function(s, w, h) draw.RoundedBox(10, 0, 0, w, h, Color(60, 60, 50, 255)) end
        local num = 0
        for k, v in pairs(file.Find("materials/actmod/sm_hover*", "GAME")) do
            if string.find(string.sub(v, -4, -1), ".png") then
                num = num + 1
                local Liem = List:Add("DButton")
                Liem:SetSize(100, 100)
                Liem:SetText("")
                Liem.num = num
                Liem.Paint = function(s, w, h)
                    surface.SetDrawColor(color_white)
                    surface.SetMaterial(Material("materials/actmod/" .. v, "noclamp smooth"))
                    surface.DrawTexturedRect(10, 10, w - 20, h - 20)
                    if GetConVarNumber("actmod_cl_stibox") == s.num then
                        surface.SetDrawColor(Color(50, 100, 255, 255))
                        surface.DrawOutlinedRect(5, 5, w - 10, h - 10, 4 + (2 * math.sin(CurTime() * 4)))
                    end
                end

                Liem.DoClick = function(s) ply:ConCommand("actmod_cl_stibox " .. tostring(Liem.num) .. "\n") end
            end
        end

        EmeA.Dt1 = vgui.Create("DButton", EmeA.aFrame)
        EmeA.Dt1:SetSize(30, 30)
        EmeA.Dt1:SetPos(EmeA.aFrame:GetWide() - EmeA.Dt1:GetWide() - 10, 10)
        EmeA.Dt1:SetText("O")
        EmeA.Dt1:SetAlpha(0)
        EmeA.Dt1:AlphaTo(255, 0.2)
        EmeA.Dt1.Paint = function(s, w, h)
            draw.RoundedBox(15, 0, 0, w, h, Color(100, 100, 50, 200))
            draw.RoundedBox(10, 5, 5, w - 10, h - 10, Color(50, 50, 60, 255))
        end

        EmeA.Dt1.DoClick = function(s)
            if EmeA.aFrame.tas == true then
                EmeA.aFrame.tas = false
            else
                EmeA.aFrame.tas = true
            end
        end

        trr = true
    end
end